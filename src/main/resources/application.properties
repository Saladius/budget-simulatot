# --- Common ---
spring.jpa.hibernate.ddl-auto=update
spring.jpa.open-in-view=false
springdoc.api-docs.path=/api/docs
springdoc.swagger-ui.path=/api/swagger

# --- Default to H2 for local dev if no PG env provided ---
spring.datasource.url=${JDBC_URL:jdbc:h2:mem:devdb;MODE=PostgreSQL;DB_CLOSE_DELAY=-1}
spring.datasource.username=${JDBC_USER:sa}
spring.datasource.password=${JDBC_PASS:}

# --- If Railway/Render Postgres env vars exist, override at runtime ---
# For Railway: PGHOST, PGPORT, PGDATABASE, PGUSER, PGPASSWORD
spring.datasource.url=${SPRING_DATASOURCE_URL:}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}
